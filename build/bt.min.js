/**
 * @name bt v1.4.1 - 极简极致的JavaScript模板引擎
 * @author: 楼教主
 * @date: 2015-07-31
 * @site: http://52cik.github.io/btpl/index.html
 * @license: MIT license
 */
!function(n,r){function e(n){var r=this;r.tpl=n,r.parse(),c[n]=r}function t(n,r){return new RegExp(n,r||"g")}function o(n,r){return r&&o.config(r),n=String(n),a?new e(n):c[n]||new e(n)}var c={},a=!0,i=e.prototype={conf:{begin:"{{",end:"}}",varname:"d",strip:!0}},u={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"};i.encode=function(n){return String(n||"").replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/[<>"'\/]/g,function(n){return u[n]})};var p=i.syntax={"#":function(n){return"';"+n+";out+='"},"=":function(n){return"'+this.encode("+n+")+'"},"@":function(n){if(""===n)return"';}out+='";var r=n.match(/\s*([\w."'\][]+)\s*(\w+)\s*(\w+)?/),e=this.sid++;if(r){var t=r[3]||"ai"+e,o=r[2]||"av"+e,c="al"+e,a="arr"+e;n="';var "+a+"="+r[1]+","+t+"=-1,"+c+"="+a+".length-1,"+o+";while("+t+"<"+c+"){"+o+"="+a+"["+t+"+=1];out+='"}return n}};i.parse=function(){var r=this,e=i.conf,o=e.begin,c=e.end,u=t(o+"([#=@]|)([\\s\\S]*?|)"+c,"g");r.sid=1;var f=r.tpl.replace(/'|\\/g,"\\$&");f=(e.strip?f.replace(/[\r\n\t]/g," "):f.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")).replace(u,function(n,t,o){return o=(e.strip?o:o.replace(/(^|[^\\])\\r/g,"$1\r").replace(/(^|[^\\])\\n/g,"$1\n").replace(/(^|[^\\])\\t/g,"$1	")).replace(/^\s+|\s+$/g,"").replace(/\\('|\\)/g,"$1"),""===t&&""===o?n:p.hasOwnProperty(t)?p[t].call(r,o):"'+("+o+")+'"}),f="var out='';out+=' "+f+" ';return out;";try{var l=new Function(e.varname,f),g=r.render=function(n){return l.call(r,n)};return g.toString=function(){return l.toString()},a=!1,g}catch(s){var v="\u8be5\u6a21\u677f\u4e0d\u80fd\u521b\u5efa\u6e32\u67d3\u5f15\u64ce";return n.console&&console.log(v+": "+f),function(){return v}}},o.ver="1.4.1",o.config=function(n){a=!0,n=n||{};for(var r in n)n.hasOwnProperty(r)&&(i.conf[r]=n[r])},"function"==typeof define?define(function(){return o}):"object"==typeof module&&"object"==typeof module.exports?module.exports=o:n.bt=o}(this);